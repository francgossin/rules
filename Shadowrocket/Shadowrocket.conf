# Shadowrocket: 2025-11-17 13:41:37
[General]
bypass-system = true
skip-proxy = 192.168.0.0/16, 10.0.0.0/8, 172.16.0.0/12, localhost, *.local, captive.apple.com
tun-excluded-routes = 10.0.0.0/8, 100.64.0.0/10, 127.0.0.0/8, 169.254.0.0/16, 172.16.0.0/12, 192.0.0.0/24, 192.0.2.0/24, 192.88.99.0/24, 192.168.0.0/16, 198.51.100.0/24, 203.0.113.0/24, 224.0.0.0/4, 255.255.255.255/32, 239.255.255.250/32
dns-server = system
fallback-dns-server = system
ipv6 = true
prefer-ipv6 = true
dns-direct-system = false
icmp-auto-reply = true
always-reject-url-rewrite = false
private-ip-answer = true

# direct domain fail to resolve use proxy rule
dns-direct-fallback-proxy = false

# The fallback behavior when UDP traffic matches a policy that doesn't support the UDP relay. Possible values: DIRECT, REJECT.
udp-policy-not-supported-behaviour = REJECT

[Proxy Group]
ğŸ‡¨ğŸ‡³ CN = select,policy-regex-filter=(?=.*\b(?:ä¸­å›½|éƒ‘å·|ä¸Šæµ·|CN|China|å¹¿å·|åŒ—äº¬|ğŸ‡¨ğŸ‡³)\b)(?!.*\b(?:å°|TW|Tai|å°æ¹¾|è‡ºç£|å°åŒ—|é«˜é›„)\b).*
ğŸ‡­ğŸ‡° HK = url-test,policy-select-name=ğŸ‡­ğŸ‡° é¦™æ¸¯ 01 | æ·±æ¸¯ä¸“çº¿,interval=600,tolerance=100,timeout=5,url=http://www.gstatic.com/generate_204,policy-regex-filter=HK|Hong|hong|é¦™æ¸¯|ğŸ‡­ğŸ‡°
ğŸ‡¹ğŸ‡¼ TW = url-test,policy-select-name=ğŸ‡¨ğŸ‡³ å°æ¹¾ 01 | æ·±æ¸¯ä¸“çº¿,interval=600,tolerance=100,timeout=5,url=http://www.gstatic.com/generate_204,policy-regex-filter=TW|Taiwan|è‡ºç£|å°æ¹¾|å°åŒ—|é«˜é›„|ğŸ‡¹ğŸ‡¼
ğŸ‡¸ğŸ‡¬ SG = url-test,policy-select-name=ğŸ‡¸ğŸ‡¬ æ–°åŠ å¡ 01 | æ·±æ¸¯ä¸“çº¿,interval=600,tolerance=100,timeout=5,url=http://www.gstatic.com/generate_204,policy-regex-filter=SG|Singapore|æ–°åŠ å¡|å¡|ç‹®åŸ|ğŸ‡¸ğŸ‡¬
ğŸ‡¯ğŸ‡µ JP = url-test,policy-select-name=ğŸ‡¯ğŸ‡µ æ—¥æœ¬ 01 | æ·±æ¸¯ä¸“çº¿,interval=600,tolerance=100,timeout=5,url=http://www.gstatic.com/generate_204,policy-regex-filter=JP|Japan|æ—¥æœ¬|ğŸ‡¯ğŸ‡µ
ğŸ‡°ğŸ‡· KR = url-test,policy-select-name=ğŸ‡°ğŸ‡·å°„æ‰‹åº§-KR(æµé‡),interval=600,tolerance=100,timeout=5,url=http://www.gstatic.com/generate_204,policy-regex-filter=KR|Korea|KOR|é¦–å°”|éŸ©|éŸ“|ğŸ‡°ğŸ‡·
ğŸ‡ºğŸ‡¸ US = url-test,policy-select-name=ğŸ‡ºğŸ‡¸ ç¾å›½ 01 | æ·±æ¸¯ä¸“çº¿,interval=600,tolerance=100,timeout=5,url=http://www.gstatic.com/generate_204,policy-regex-filter=US|United States|ç¾å›½|ç¾|æ³¢ç‰¹å…°|è¾¾æ‹‰æ–¯|ä¿„å‹’å†ˆ|å‡¤å‡°åŸ|è´¹åˆ©è’™|ç¡…è°·|æ‹‰æ–¯ç»´åŠ æ–¯|æ´›æ‰çŸ¶|åœ£ä½•å¡|åœ£å…‹æ‹‰æ‹‰|è¥¿é›…å›¾|èŠåŠ å“¥|ğŸ‡ºğŸ‡¸
ğŸ‡©ğŸ‡ª DE = url-test,policy-select-name=ğŸ‡©ğŸ‡ª å¾·å›½ 01 | æ·±æ¸¯ä¸“çº¿,interval=600,tolerance=100,timeout=5,url=http://www.gstatic.com/generate_204,policy-regex-filter=DE|Germany|Deutschland|å¾·|å¾·å›½|ğŸ‡©ğŸ‡ª
ğŸ‡³ğŸ‡± NL = url-test,policy-select-name=ğŸ‡³ğŸ‡± è·å…° 01 | æ·±æ¸¯ä¸“çº¿,interval=600,tolerance=100,timeout=5,url=http://www.gstatic.com/generate_204,policy-regex-filter=NL|Netherlands|è·å…°|ğŸ‡³ğŸ‡±
ğŸ‡°ğŸ‡­ KH = url-test,policy-select-name=ğŸ‡°ğŸ‡­ æŸ¬åŸ”å¯¨ 01 | æ·±æ¸¯ä¸“çº¿,interval=600,tolerance=100,timeout=5,url=http://www.gstatic.com/generate_204,policy-regex-filter=KH|Cambodia|æŸ¬åŸ”å¯¨|é‡‘è¾¹|ğŸ‡°ğŸ‡­
ğŸ‡²ğŸ‡¾ MY = url-test,policy-select-name=ğŸ‡²ğŸ‡¾å°„æ‰‹åº§-MY(æµé‡),interval=600,tolerance=100,timeout=5,url=http://www.gstatic.com/generate_204,policy-regex-filter=MY|Malaysia|é©¬æ¥è¥¿äºš|å‰éš†å¡|ğŸ‡²ğŸ‡¾
ğŸ‡¦ğŸ‡· AR = url-test,policy-select-name=ğŸ‡¦ğŸ‡·é˜¿æ ¹å»·-A,interval=600,tolerance=100,timeout=5,url=http://www.gstatic.com/generate_204,policy-regex-filter=AR|Argentina|é˜¿æ ¹å»·|å¸ƒå®œè¯ºæ–¯è‰¾åˆ©æ–¯|ğŸ‡¦ğŸ‡·
ğŸ‡®ğŸ‡³ IN = url-test,policy-select-name=ğŸ‡®ğŸ‡³ å°åº¦ 01 | æ·±æ¸¯ä¸“çº¿,interval=600,tolerance=100,timeout=5,url=http://www.gstatic.com/generate_204,policy-regex-filter=IN|India|å°|å°åº¦|æ–°å¾·é‡Œ|ğŸ‡®ğŸ‡³
ğŸ‡¨ğŸ‡¦ CA = url-test,policy-select-name=ğŸ‡¨ğŸ‡¦ åŠ æ‹¿å¤§ 01 | æ·±æ¸¯ä¸“çº¿,interval=600,tolerance=100,timeout=5,url=http://www.gstatic.com/generate_204,policy-regex-filter=CA|Canada|åŠ |åŠ æ‹¿å¤§|å¤šä¼¦å¤š|æ¸©å“¥å|ğŸ‡¨ğŸ‡¦
ğŸ‡¦ğŸ‡º AU = url-test,policy-select-name=ğŸ‡¦ğŸ‡º æ¾³å¤§åˆ©äºš 01 | æ·±æ¸¯ä¸“çº¿,interval=600,tolerance=100,timeout=5,url=http://www.gstatic.com/generate_204,policy-regex-filter=AU|Australia|æ¾³å¤§åˆ©äºš|æ‚‰å°¼|å¢¨å°”æœ¬|ğŸ‡¦ğŸ‡º
ğŸ‡«ğŸ‡· FR = url-test,interval=600,tolerance=100,timeout=5,url=http://www.gstatic.com/generate_204,policy-regex-filter=FR|France|æ³•|æ³•å›½|å·´é»|ğŸ‡«ğŸ‡·
ğŸŒ Intl = url-test,ğŸ‡­ğŸ‡° HK,ğŸ‡¹ğŸ‡¼ TW,ğŸ‡¸ğŸ‡¬ SG,ğŸ‡¯ğŸ‡µ JP,ğŸ‡°ğŸ‡· KR,ğŸ‡ºğŸ‡¸ US,ğŸ‡©ğŸ‡ª DE,ğŸ‡³ğŸ‡± NL,ğŸ‡°ğŸ‡­ KH,ğŸ‡²ğŸ‡¾ MY,ğŸ‡¦ğŸ‡· AR,ğŸ‡®ğŸ‡³ IN,ğŸ‡¨ğŸ‡¦ CA,ğŸ‡¦ğŸ‡º AU,ğŸ‡«ğŸ‡· FR,interval=600,tolerance=100,timeout=5,url=http://www.gstatic.com/generate_204
ğŸŒŒ Global = url-test,ğŸ‡¹ğŸ‡¼ TW,ğŸ‡¸ğŸ‡¬ SG,ğŸ‡¯ğŸ‡µ JP,ğŸ‡°ğŸ‡· KR,ğŸ‡ºğŸ‡¸ US,ğŸ‡©ğŸ‡ª DE,ğŸ‡³ğŸ‡± NL,ğŸ‡²ğŸ‡¾ MY,ğŸ‡¦ğŸ‡· AR,ğŸ‡®ğŸ‡³ IN,ğŸ‡¨ğŸ‡¦ CA,ğŸ‡¦ğŸ‡º AU,ğŸ‡«ğŸ‡· FR,interval=600,tolerance=100,timeout=5,url=http://www.gstatic.com/generate_204
ğŸ‡¨ğŸ‡³ Mainland = select,ğŸ‡¨ğŸ‡³ CN,ğŸ‡­ğŸ‡° HK

âœˆï¸ Telegram = select,PROXY,ğŸŒ Intl

[Rule]
# Block HTTP3/QUIC
# AND,((PROTOCOL,UDP),(DEST-PORT,443)),REJECT-NO-DROP

# Apple Intelligence, Siri
# https://support.apple.com/en-us/101555
DOMAIN-SUFFIX,apple-relay.akamaized.net,ğŸŒŒ Global
DOMAIN-SUFFIX,apple-relay.apple.com,ğŸŒŒ Global
DOMAIN-SUFFIX,apple-relay.cloudflare.com,ğŸŒŒ Global
DOMAIN-SUFFIX,apple-relay.fastly-edge.com,ğŸŒŒ Global
DOMAIN-SUFFIX,gspe1-ssl.ls.apple.com,ğŸŒŒ Global
DOMAIN-SUFFIX,guzzoni.apple.com,ğŸŒŒ Global
DOMAIN-SUFFIX,smoot.apple.com,ğŸŒŒ Global

# CNAME for apple-relay.apple.com
DOMAIN-SUFFIX,apple-relay.mask.apple-dns.net,ğŸŒŒ Global

# ChatGPT
DOMAIN,api.statsig.com,ğŸŒŒ Global
DOMAIN,browser-intake-datadoghq.com,ğŸŒŒ Global
DOMAIN,chat.openai.com.cdn.cloudflare.net,ğŸŒŒ Global
DOMAIN,o33249.ingest.sentry.io,ğŸŒŒ Global
DOMAIN,openai-api.arkoselabs.com,ğŸŒŒ Global
DOMAIN,openaicom-api-bdcpf8c6d2e9atf6.z01.azurefd.net,ğŸŒŒ Global
DOMAIN,openaicomproductionae4b.blob.core.windows.net,ğŸŒŒ Global
DOMAIN,production-openaicom-storage.azureedge.net,ğŸŒŒ Global
DOMAIN,static.cloudflareinsights.com,ğŸŒŒ Global
DOMAIN-KEYWORD,openaicom-api,ğŸŒŒ Global
DOMAIN-SUFFIX,algolia.net,ğŸŒŒ Global
DOMAIN-SUFFIX,auth0.com,ğŸŒŒ Global
DOMAIN-SUFFIX,cdn.cloudflare.net,ğŸŒŒ Global
DOMAIN-SUFFIX,challenges.cloudflare.com,ğŸŒŒ Global
DOMAIN-SUFFIX,chatgpt.livekit.cloud,ğŸŒŒ Global
DOMAIN-SUFFIX,client-api.arkoselabs.com,ğŸŒŒ Global
DOMAIN-SUFFIX,events.statsigapi.net,ğŸŒŒ Global
DOMAIN-SUFFIX,featuregates.org,ğŸŒŒ Global
DOMAIN-SUFFIX,host.livekit.cloud,ğŸŒŒ Global
DOMAIN-SUFFIX,identrust.com,ğŸŒŒ Global
DOMAIN-SUFFIX,intercom.io,ğŸŒŒ Global
DOMAIN-SUFFIX,intercomcdn.com,ğŸŒŒ Global
DOMAIN-SUFFIX,launchdarkly.com,ğŸŒŒ Global
DOMAIN-SUFFIX,oaistatic.com,ğŸŒŒ Global
DOMAIN-SUFFIX,oaiusercontent.com,ğŸŒŒ Global
DOMAIN-SUFFIX,observeit.net,ğŸŒŒ Global
DOMAIN-SUFFIX,openai.com,ğŸŒŒ Global
DOMAIN-SUFFIX,openaiapi-site.azureedge.net,ğŸŒŒ Global
DOMAIN-SUFFIX,openaicom.imgix.net,ğŸŒŒ Global
DOMAIN-SUFFIX,poe.com,ğŸŒŒ Global
DOMAIN-SUFFIX,segment.io,ğŸŒŒ Global
DOMAIN-SUFFIX,sentry.io,ğŸŒŒ Global
DOMAIN-SUFFIX,stripe.com,ğŸŒŒ Global
DOMAIN-SUFFIX,turn.livekit.cloud,ğŸŒŒ Global
IP-CIDR,24.199.123.28/32,ğŸŒŒ Global,no-resolve
IP-CIDR,45.76.214.191/32,ğŸŒŒ Global,no-resolve
IP-CIDR,64.23.132.171/32,ğŸŒŒ Global,no-resolve
IP-CIDR,143.198.200.27/32,ğŸŒŒ Global,no-resolve
IP-CIDR,159.89.204.203/32,ğŸŒŒ Global,no-resolve

# DNS Leak
DOMAIN-SUFFIX,dnsleaktest.com,PROXY
DOMAIN-SUFFIX,dnsleak.com,PROXY
DOMAIN-SUFFIX,expressvpn.com,PROXY
DOMAIN-SUFFIX,nordvpn.com,PROXY
DOMAIN-SUFFIX,surfshark.com,PROXY
DOMAIN-SUFFIX,ipleak.net,PROXY
DOMAIN-SUFFIX,perfect-privacy.com,PROXY
DOMAIN-SUFFIX,browserleaks.com,PROXY
DOMAIN-SUFFIX,browserleaks.org,PROXY
DOMAIN-SUFFIX,vpnunlimited.com,PROXY
DOMAIN-SUFFIX,whoer.net,PROXY
DOMAIN-SUFFIX,whrq.net,PROXY

# LAN
IP-CIDR,192.168.0.0/16,DIRECT
IP-CIDR,10.0.0.0/8,DIRECT
IP-CIDR,172.16.0.0/12,DIRECT
IP-CIDR,127.0.0.0/8,DIRECT

# China
GEOIP,CN,ğŸ‡¨ğŸ‡³ Mainland

# Final
FINAL,PROXY

[Host]
localhost = 127.0.0.1

[URL Rewrite]
^https?://(www.)?g.cn($|/.*) https://www.google.com$2 302
^https?://(www.)?google.cn($|/.*) https://www.google.com$2 302
